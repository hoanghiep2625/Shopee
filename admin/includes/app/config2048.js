var config=config||{url:"//"+window.location.hostname+"/",socket:"//ws."+window.location.hostname+"/",hub:"GSMHub"};var UrlRoot=config.url;var app=app||angular.module('gsm',['datatables']);app.filter('formatDate',function(){return function(date){if(!date)return "";date=date.replace(/\-/g,'\/').replace(/[T|Z]/g,' ');if(date.indexOf('.')>0)
date=date.substring(0,date.indexOf('.'));var d=new Date(date);var curr_date=d.getDate();var curr_month=d.getMonth()+1;var curr_year=d.getFullYear();var _hour=d.getHours();var _minute=d.getMinutes();var _second=d.getSeconds();if(curr_date<10)curr_date="0"+curr_date;if(curr_month<10)curr_month="0"+curr_month;if(_hour<10)_hour="0"+_hour;if(_minute<10)_minute="0"+_minute;if(_second<10)_second="0"+_second;return curr_date+"/"+curr_month
+"/"+curr_year+" "+_hour+":"+_minute+":"+_second;};});app.filter('maskInput',function(){return function(input){if(!input)return "";input=input.substring(0,input.length/2);return input+"*******";};});app.filter('formatDateOnly',function(){return function(date){if(!date)return "";date=date.replace(/\-/g,'\/').replace(/[T|Z]/g,' ');if(date.indexOf('.')>0)
date=date.substring(0,date.indexOf('.'));var d=new Date(date);var curr_date=d.getDate();var curr_month=d.getMonth()+1;var curr_year=d.getFullYear();if(curr_date<10)curr_date="0"+curr_date;if(curr_month<10)curr_month="0"+curr_month;return curr_date+"/"+curr_month+"/"+curr_year;};});app.filter('formatIntToDate',function(){return function(dtInt){if(!dtInt)return "";dtInt=dtInt.toString();var year=dtInt.substring(0,4);var month=dtInt.substring(4,6);var day=dtInt.substring(6,8);return day+"/"+month+"/"+year;};});app.filter('parseMoney',function(){return function(money){if(money==undefined||isNaN(money))return '';var strMoney=money.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return strMoney;};});app.filter('removeFirstZero',function(){return function(phoneNumber){if(phoneNumber==undefined)return '';var strPhone=phoneNumber;if(phoneNumber.charAt(0)=="0")
strPhone=phoneNumber.substring(1);else if(phoneNumber.substring(0,2)=="84")
strPhone=phoneNumber.substring(2);return strPhone;};});var Util=Util||{};Util.parseMoney=function(money){if(money==undefined)return '';var strMoney=money.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return strMoney;};Util.Expand=function(){var lst=$($('.sidebar-menu a'));lst.each(function(i){var str=$(lst[i]).attr('href');var url=location.href.split('?')[0];if(url.endsWith(str)){$($(lst[i]).parents()[2]).addClass('active');$($(lst[i]).parents()[0]).addClass('active');}});};Util.addLoadingAnimate=function(){$('body').addClass('loading');};Util.removeLoadingAnimate=function(){$('body').removeClass('loading');};app.directive('currencyInput',function($filter,$browser){return{require:'ngModel',link:function($scope,$element,$attrs,ngModelCtrl){var listener=function(){var value=$element.val().replace(/,/g,'');$element.val($filter('number')(value,false));};ngModelCtrl.$parsers.push(function(viewValue){return viewValue.replace(/,/g,'');});ngModelCtrl.$render=function(){$element.val($filter('number')(ngModelCtrl.$viewValue,false));};$element.bind('change',listener);$element.bind('keydown',function(event){var key=event.keyCode;if(key==91||(15<key&&key<19)||(37<=key&&key<=40))
return;$browser.defer(listener)});$element.bind('paste cut',function(){$browser.defer(listener);});}};});